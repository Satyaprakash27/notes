<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FastAPI Basics - Complete Guide</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            margin: 0;
            display: flex;
        }

        .sidebar {
            width: 280px;
            background: #2c3e50;
            color: white;
            height: 100vh;
            position: fixed;
            left: 0;
            top: 0;
            overflow-y: auto;
            z-index: 1000;
            transition: transform 0.3s ease;
        }

        .sidebar-header {
            padding: 20px;
            background: #34495e;
            border-bottom: 1px solid #455a75;
        }

        .sidebar-header h2 {
            margin: 0;
            font-size: 1.3em;
            color: #ecf0f1;
            border: none;
            padding: 0;
        }

        .sidebar-nav {
            padding: 0;
        }

        .sidebar-section {
            border-bottom: 1px solid #455a75;
        }

        .sidebar-section-title {
            background: #34495e;
            color: #ecf0f1;
            padding: 15px 20px;
            margin: 0;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            border: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .sidebar-section-title:hover {
            background: #455a75;
        }

        .sidebar-links {
            background: #2c3e50;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .sidebar-section.active .sidebar-links {
            max-height: 500px;
        }

        .sidebar-links a {
            display: block;
            color: #bdc3c7;
            text-decoration: none;
            padding: 12px 25px;
            border-bottom: 1px solid #34495e;
            transition: background 0.2s ease;
        }

        .sidebar-links a:hover {
            background: #34495e;
            color: #ecf0f1;
        }

        .sidebar-links a.current {
            background: #3498db;
            color: white;
            font-weight: 600;
        }

        .sidebar-toggle {
            display: none;
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1001;
            background: #3498db;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
        }

        .main-content {
            margin-left: 280px;
            flex: 1;
            min-height: 100vh;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            margin-top: 20px;
            margin-bottom: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
            }

            .sidebar.active {
                transform: translateX(0);
            }

            .sidebar-toggle {
                display: block;
            }

            .main-content {
                margin-left: 0;
            }
        }

        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            background: linear-gradient(45deg, #3498db, #e74c3c);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        h2 {
            color: #27ae60;
            margin-top: 40px;
            margin-bottom: 20px;
            font-size: 1.8em;
            border-left: 5px solid #27ae60;
            padding-left: 15px;
            position: relative;
        }

        h2::before {
            content: "✅";
            position: absolute;
            left: -30px;
            top: 0;
            font-size: 0.8em;
        }

        h3 {
            color: #34495e;
            margin-top: 25px;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        h4 {
            color: #2c3e50;
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        p {
            margin-bottom: 15px;
            text-align: justify;
        }

        .intro {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
            text-align: center;
            font-size: 1.1em;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: #fff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        th {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }

        td {
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
        }

        tr:nth-child(even) {
            background: #f8f9fa;
        }

        tr:hover {
            background: #e3f2fd;
            transition: background 0.3s ease;
        }

        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.4;
            position: relative;
            border-left: 4px solid #007acc;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .code-block::before {
            content: attr(data-lang);
            position: absolute;
            top: 5px;
            right: 10px;
            color: #888;
            font-size: 0.8em;
            text-transform: uppercase;
            background: #333;
            padding: 2px 6px;
            border-radius: 3px;
        }

        .code-block.python { border-left-color: #3776ab; }
        .code-block.bash { border-left-color: #4eaa25; }
        .code-block.txt { border-left-color: #6c757d; }

        .highlight-box {
            background: linear-gradient(135deg, #ffecd2, #fcb69f);
            border: 2px solid #ff6b6b;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            position: relative;
        }

        .highlight-box::before {
            content: "💡";
            position: absolute;
            top: -10px;
            left: 20px;
            background: #ff6b6b;
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.9em;
        }

        .advantages-list {
            background: linear-gradient(135deg, #a8edea, #fed6e3);
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .advantages-list ol {
            counter-reset: advantage-counter;
            list-style: none;
        }

        .advantages-list li {
            counter-increment: advantage-counter;
            margin: 10px 0;
            padding-left: 40px;
            position: relative;
        }

        .advantages-list li::before {
            content: counter(advantage-counter);
            position: absolute;
            left: 0;
            top: 0;
            background: #667eea;
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9em;
        }

        .installation-section {
            background: #f8f9fa;
            border: 2px solid #007bff;
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
        }

        .performance-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .performance-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            transform: translateY(0);
            transition: transform 0.3s ease;
        }

        .performance-card:hover {
            transform: translateY(-5px);
        }

        .performance-card h4 {
            margin-bottom: 10px;
            font-size: 1.2em;
            color: white;
        }

        .toc {
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .toc h3 {
            color: #495057;
            margin-bottom: 15px;
            text-align: center;
        }

        .toc ul {
            list-style: none;
        }

        .toc li {
            margin: 8px 0;
        }

        .toc a {
            color: #007bff;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 5px;
            transition: background 0.3s ease;
        }

        .toc a:hover {
            background: #007bff;
            color: white;
        }

        .footer {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            border-radius: 10px;
        }

        .info-box {
            background: #e8f5e8;
            border: 2px solid #4caf50;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .info-box ul {
            list-style: none;
            padding: 0;
        }

        .info-box li {
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 5px;
            border-left: 4px solid #4caf50;
        }

        .doc-access {
            background: #e8f5e8;
            border: 2px solid #4caf50;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .doc-access ul {
            list-style: none;
            padding: 0;
        }

        .doc-access li {
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 5px;
            border-left: 4px solid #4caf50;
        }

        .doc-access code {
            background: #f1f1f1;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: monospace;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 15px;
                border-radius: 10px;
            }

            h1 {
                font-size: 2em;
            }

            table {
                font-size: 0.9em;
            }

            .code-block {
                font-size: 0.9em;
                padding: 15px;
            }

            .performance-grid {
                grid-template-columns: 1fr;
            }
        }

        .scroll-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            font-size: 1.2em;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            opacity: 0;
            visibility: hidden;
        }

        .scroll-to-top:hover {
            background: #764ba2;
            transform: translateY(-3px);
        }

        .copy-button {
            position: absolute;
            top: 10px;
            right: 50px;
            background: #007acc;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8em;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .code-block:hover .copy-button {
            opacity: 1;
        }

        .copy-button:hover {
            background: #005a9e;
        }

        strong {
            color: #2c3e50;
            font-weight: 600;
        }

        code {            background: #f1f1f1;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            color: #e83e8c;
        }

        .nav {
            background: rgba(255, 255, 255, 0.9);
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 20px;
            z-index: 100;
        }

        .nav ul {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 1rem;
        }

        .nav a {
            color: #667eea;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .nav a:hover, .nav a.active {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
    </style>
</head>
<body>
    <button class="sidebar-toggle" onclick="toggleSidebar()">☰</button>
      <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h2>� Python Guides</h2>
        </div>
        <nav class="sidebar-nav">
            <div class="sidebar-section">
                <div class="sidebar-section-title" onclick="toggleSection(this)">
                    🤖 Agentic AI <span>▶</span>
                </div>
                <div class="sidebar-links">
                    <a href="../../Agentic AI/agentic-ai-guide.html">AI Agents Guide</a>
                </div>
            </div>
            <div class="sidebar-section">
                <div class="sidebar-section-title" onclick="toggleSection(this)">
                    ⚡ Async Programming <span>▶</span>
                </div>
                <div class="sidebar-links">
                    <a href="../../Async Programming/async-programming-guide.html">Asyncio & Concurrency</a>
                </div>
            </div>
            <div class="sidebar-section">
                <div class="sidebar-section-title" onclick="toggleSection(this)">
                    🎨 Decorators <span>▶</span>
                </div>
                <div class="sidebar-links">
                    <a href="../../Decorators/decorators-guide.html">Python Decorators</a>
                </div>
            </div>
            <div class="sidebar-section active">
                <div class="sidebar-section-title" onclick="toggleSection(this)">
                    🚀 FastAPI <span>▼</span>
                </div>
                <div class="sidebar-links">
                    <a href="../fastapi-guide.html">FastAPI Overview</a>
                    <a href="../1.Basic/fastapi-basics-complete.html" class="current">FastAPI Fundamentals</a>
                    <a href="../2.API Development/api-development-guide.html">API Development</a>
                    <a href="../3.Security/security-guide.html">Security & Authentication</a>
                    <a href="../4.Testing/testing-guide.html">Testing Strategies</a>
                    <a href="../5.Advanced Topics/advanced-topics-guide.html">Advanced Topics</a>
                    <a href="../6.Miscellaneous/miscellaneous-guide.html">Tips & Best Practices</a>
                </div>
            </div>
            <div class="sidebar-section">
                <div class="sidebar-section-title" onclick="toggleSection(this)">
                    🦜 LangChain <span>▶</span>
                </div>
                <div class="sidebar-links">
                    <a href="../../LangChain/langchain-documentation.html">LangChain Framework</a>
                </div>
            </div>
            <div class="sidebar-section">
                <div class="sidebar-section-title" onclick="toggleSection(this)">
                    � LangGraph <span>▶</span>
                </div>
                <div class="sidebar-links">
                    <a href="../../LangGraph/langgraph-guide.html">Graph-based AI</a>
                </div>
            </div>
        </nav>
    </div>

    <div class="main-content">
        <div class="container">
        <h1>🌟 Enhanced FastAPI Basics Documentation</h1>
        
        <div class="intro">
            <strong>FastAPI</strong> is a modern, fast (high-performance), web framework for building APIs with Python 3.7+ based on standard Python type hints. This comprehensive guide covers everything you need to know to get started with FastAPI development.
        </div>        <nav class="nav">
            <ul>
                <li><a href="#what-is-fastapi" class="nav-link">🎯 What is FastAPI?</a></li>
                <li><a href="#advantages" class="nav-link">⭐ Advantages</a></li>
                <li><a href="#installation" class="nav-link">📦 Installation</a></li>
                <li><a href="#running" class="nav-link">▶️ Running Apps</a></li>
                <li><a href="#uvicorn" class="nav-link">🦄 Uvicorn</a></li>
                <li><a href="#asgi" class="nav-link">🔄 ASGI vs WSGI</a></li>
                <li><a href="#dependency-injection" class="nav-link">💉 Dependency Injection</a></li>
                <li><a href="#performance" class="nav-link">⚡ Performance</a></li>
                <li><a href="#documentation" class="nav-link">📚 Documentation</a></li>
                <li><a href="#pydantic" class="nav-link">🔧 Pydantic</a></li>
            </ul>
        </nav>

        <h2 id="what-is-fastapi">What is FastAPI? How does it compare to Flask or Django?</h2>
        
        <p><strong>FastAPI</strong> is a modern, fast (high-performance), web framework for building APIs with Python 3.7+ based on standard Python type hints.</p>

        <h3>🔄 Framework Comparison</h3>
        <table>
            <thead>
                <tr>
                    <th>Feature</th>
                    <th>FastAPI</th>
                    <th>Flask</th>
                    <th>Django</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Performance</strong></td>
                    <td>Very High (comparable to NodeJS)</td>
                    <td>Medium</td>
                    <td>Medium</td>
                </tr>
                <tr>
                    <td><strong>Learning Curve</strong></td>
                    <td>Easy</td>
                    <td>Easy</td>
                    <td>Steep</td>
                </tr>
                <tr>
                    <td><strong>Auto Documentation</strong></td>
                    <td>Built-in (OpenAPI/Swagger)</td>
                    <td>Manual</td>
                    <td>Manual</td>
                </tr>
                <tr>
                    <td><strong>Type Hints</strong></td>
                    <td>Built-in support</td>
                    <td>Manual validation</td>
                    <td>Manual validation</td>
                </tr>
                <tr>
                    <td><strong>Async Support</strong></td>
                    <td>Native async/await</td>
                    <td>Limited</td>
                    <td>Limited</td>
                </tr>
                <tr>
                    <td><strong>Validation</strong></td>
                    <td>Automatic (Pydantic)</td>
                    <td>Manual</td>
                    <td>Django Forms/Serializers</td>
                </tr>
                <tr>
                    <td><strong>Use Case</strong></td>
                    <td>APIs, Microservices</td>
                    <td>Small to medium apps</td>
                    <td>Full-stack web apps</td>
                </tr>
            </tbody>
        </table>

        <div class="highlight-box">
            <h4>FastAPI vs Flask Example</h4>
            <div class="code-block python" data-lang="python"># FastAPI Example
from fastapi import FastAPI
from pydantic import BaseModel

app = FastAPI()

class User(BaseModel):
    name: str
    age: int

@app.post("/users/")
async def create_user(user: User):
    return {"message": f"User {user.name} created"}

# Flask Example (for comparison)
from flask import Flask, request
app = Flask(__name__)

@app.route("/users/", methods=["POST"])
def create_user():
    data = request.get_json()
    # Manual validation needed
    return {"message": f"User {data['name']} created"}</div>
        </div>

        <h2 id="advantages">What are the main advantages of FastAPI?</h2>
        
        <div class="advantages-list">
            <ol>
                <li><strong>High Performance</strong>: One of the fastest Python frameworks available.</li>
                <li><strong>Easy to Learn</strong>: Intuitive design based on Python type hints.</li>
                <li><strong>Automatic API Documentation</strong>: Interactive docs with Swagger UI and ReDoc.</li>
                <li><strong>Type Safety</strong>: Built-in validation using Pydantic models.</li>
                <li><strong>Modern Python</strong>: Full support for async/await.</li>
                <li><strong>Standards-based</strong>: Based on OpenAPI and JSON Schema.</li>
                <li><strong>Production Ready</strong>: Used by companies like Microsoft, Uber, Netflix.</li>
            </ol>
        </div>

        <div class="code-block python" data-lang="python">from fastapi import FastAPI
from typing import Optional
from pydantic import BaseModel, EmailStr

app = FastAPI(
    title="My API",
    description="A sample API built with FastAPI",
    version="1.0.0"
)

class UserCreate(BaseModel):
    name: str
    email: EmailStr
    age: Optional[int] = None

@app.post("/users/", response_model=UserCreate)
async def create_user(user: UserCreate):
    # Automatic validation, serialization, and documentation
    return user</div>

        <h2 id="installation">How do you install FastAPI?</h2>
        
        <div class="installation-section">
            <div class="code-block bash" data-lang="bash"># Basic installation
pip install fastapi

# With all optional dependencies
pip install "fastapi[all]"

# Production installation (minimal)
pip install fastapi uvicorn

# With specific dependencies
pip install fastapi uvicorn[standard] python-multipart</div>

            <h4>📄 Development requirements.txt:</h4>
            <div class="code-block txt" data-lang="txt">fastapi==0.104.1
uvicorn[standard]==0.24.0
python-multipart==0.0.6
pydantic[email]==2.4.2</div>
        </div>

        <h2 id="running">How do you run a FastAPI application?</h2>
        
        <div class="code-block python" data-lang="python"># main.py
from fastapi import FastAPI

app = FastAPI()

@app.get("/")
async def root():
    return {"message": "Hello World"}

if __name__ == "__main__":
    import uvicorn
    uvicorn.run(app, host="0.0.0.0", port=8000)</div>

        <h3>🏃‍♂️ Running the application:</h3>
        <div class="code-block bash" data-lang="bash"># Method 1: Using uvicorn directly
uvicorn main:app --reload

# Method 2: With host and port
uvicorn main:app --host 0.0.0.0 --port 8000 --reload

# Method 3: Python script
python main.py

# Method 4: Production (no reload)
uvicorn main:app --workers 4</div>

        <h2 id="uvicorn">What is Uvicorn? Why is it used with FastAPI?</h2>
        
        <p><strong>Uvicorn</strong> is a lightning-fast ASGI server implementation, using uvloop and httptools.</p>

        <div class="info-box">
            <h4>🚀 Why Uvicorn with FastAPI:</h4>
            <ul>
                <li><strong>ASGI Compatibility</strong>: FastAPI is an ASGI application.</li>
                <li><strong>High Performance</strong>: Built on uvloop for maximum speed.</li>
                <li><strong>Async Support</strong>: Native support for async/await.</li>
                <li><strong>Auto-reload</strong>: Development-friendly features.</li>
                <li><strong>Production Ready</strong>: Can handle high loads.</li>
            </ul>
        </div>

        <div class="code-block python" data-lang="python"># Different Uvicorn configurations

# Development
uvicorn main:app --reload --log-level debug

# Production
uvicorn main:app --workers 4 --host 0.0.0.0 --port 80

# With SSL
uvicorn main:app --ssl-keyfile key.pem --ssl-certfile cert.pem

# Programmatic configuration
import uvicorn

if __name__ == "__main__":
    uvicorn.run(
        "main:app",
        host="0.0.0.0",
        port=8000,
        reload=True,
        workers=1,
        log_level="info"
    )</div>

        <h2 id="asgi">What is ASGI? How is it different from WSGI?</h2>
        
        <p><strong>ASGI (Asynchronous Server Gateway Interface)</strong> is a spiritual successor to WSGI, designed to support both synchronous and asynchronous Python apps.</p>

        <h3>🔄 Key Differences</h3>
        <table>
            <thead>
                <tr>
                    <th>Aspect</th>
                    <th>WSGI</th>
                    <th>ASGI</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Concurrency</strong></td>
                    <td>Synchronous only</td>
                    <td>Async + Sync</td>
                </tr>
                <tr>
                    <td><strong>Protocols</strong></td>
                    <td>HTTP only</td>
                    <td>HTTP, WebSocket, etc.</td>
                </tr>
                <tr>
                    <td><strong>Performance</strong></td>
                    <td>Limited</td>
                    <td>High (async I/O)</td>
                </tr>
                <tr>
                    <td><strong>Python Version</strong></td>
                    <td>Any</td>
                    <td>3.5+</td>
                </tr>
                <tr>
                    <td><strong>Examples</strong></td>
                    <td>Flask, Django</td>
                    <td>FastAPI, Starlette</td>
                </tr>
            </tbody>
        </table>

        <div class="code-block python" data-lang="python"># WSGI Application (Flask)
def application(environ, start_response):
    start_response('200 OK', [('Content-Type', 'text/plain')])
    return [b'Hello World']

# ASGI Application (FastAPI)
async def application(scope, receive, send):
    assert scope['type'] == 'http'
    
    await send({
        'type': 'http.response.start',
        'status': 200,
        'headers': [[b'content-type', b'text/plain']],
    })
    
    await send({
        'type': 'http.response.body',
        'body': b'Hello World',
    })</div>

        <h2 id="dependency-injection">Explain the concept of dependency injection in FastAPI</h2>
        
        <p><strong>Dependency Injection</strong> in FastAPI allows you to declare dependencies that will be automatically resolved and injected into your path operations.</p>

        <div class="code-block python" data-lang="python">from fastapi import FastAPI, Depends
from sqlalchemy.orm import Session

app = FastAPI()

# Database dependency
def get_db():
    db = SessionLocal()
    try:
        yield db
    finally:
        db.close()

# Authentication dependency
def get_current_user(token: str = Depends(get_token)):
    user = verify_token(token)
    if not user:
        raise HTTPException(status_code=401, detail="Invalid token")
    return user

# Using dependencies
@app.get("/users/me")
async def read_users_me(
    db: Session = Depends(get_db),
    current_user: User = Depends(get_current_user)
):
    return current_user

# Dependency with parameters
def common_parameters(q: str = None, skip: int = 0, limit: int = 100):
    return {"q": q, "skip": skip, "limit": limit}

@app.get("/items/")
async def read_items(commons: dict = Depends(common_parameters)):
    return commons</div>

        <h3>🔧 Advanced Dependency Patterns</h3>
        <div class="code-block python" data-lang="python"># Class-based dependencies
class CommonQueryParams:
    def __init__(self, q: str = None, skip: int = 0, limit: int = 100):
        self.q = q
        self.skip = skip
        self.limit = limit

@app.get("/items/")
async def read_items(commons: CommonQueryParams = Depends()):
    return commons

# Sub-dependencies
def get_token_header(x_token: str = Header()):
    if x_token != "fake-super-secret-token":
        raise HTTPException(status_code=400, detail="X-Token header invalid")
    return x_token

def get_query_token(token: str):
    if token != "jessica":
        raise HTTPException(status_code=400, detail="No Jessica token provided")
    return token

@app.get("/items/")
async def read_items(
    token: str = Depends(get_token_header),
    query_token: str = Depends(get_query_token)
):
    return {"token": token, "query_token": query_token}</div>

        <h2 id="performance">How does FastAPI achieve high performance?</h2>
        
        <p>FastAPI achieves high performance through several key design decisions:</p>

        <div class="performance-grid">
            <div class="performance-card">
                <h4>🔥 Starlette Foundation</h4>
                <p>Built on Starlette, a high-performance ASGI framework</p>
            </div>
            <div class="performance-card">
                <h4>⚡ Pydantic Validation</h4>
                <p>Fast validation using Cython-compiled code</p>
            </div>
            <div class="performance-card">
                <h4>🔄 Async/Await</h4>
                <p>Native support for asynchronous operations</p>
            </div>
            <div class="performance-card">
                <h4>🎯 Type Hints</h4>
                <p>Compile-time optimizations and minimal overhead</p>
            </div>
        </div>

        <div class="code-block python" data-lang="python"># Performance optimizations in FastAPI

# 1. Async endpoints for I/O operations
@app.get("/users/{user_id}")
async def get_user(user_id: int, db: Session = Depends(get_db)):
    # Non-blocking database query
    user = await db.execute(select(User).where(User.id == user_id))
    return user.scalar_one_or_none()

# 2. Response models for serialization optimization
@app.get("/users/", response_model=List[UserResponse])
async def list_users():
    # Pydantic handles fast serialization
    return users

# 3. Background tasks for non-blocking operations
@app.post("/send-email/")
async def send_email(email: EmailSchema, background_tasks: BackgroundTasks):
    background_tasks.add_task(send_email_notification, email)
    return {"message": "Email sent in background"}

# 4. Streaming responses for large data
@app.get("/large-file")
async def download_large_file():
    def generate():
        for chunk in read_large_file():
            yield chunk
    return StreamingResponse(generate(), media_type="application/octet-stream")</div>

        <h2 id="documentation">What is automatic API documentation in FastAPI?</h2>
        
        <p>FastAPI automatically generates interactive API documentation using OpenAPI specification.</p>

        <div class="code-block python" data-lang="python">from fastapi import FastAPI
from pydantic import BaseModel
from typing import List, Optional

app = FastAPI(
    title="My API",
    description="This is a very fancy project, with auto docs for the API",
    version="2.5.0",
    terms_of_service="http://example.com/terms/",
    contact={
        "name": "Deadpoolio the Amazing",
        "url": "http://x-force.example.com/contact/",
        "email": "dp@x-force.example.com",
    },
    license_info={
        "name": "Apache 2.0",
        "url": "https://www.apache.org/licenses/LICENSE-2.0.html",
    },
)

class Item(BaseModel):
    """Item model for the API"""
    name: str
    description: Optional[str] = None
    price: float
    tax: Optional[float] = None

@app.post("/items/", response_model=Item, tags=["items"])
async def create_item(item: Item):
    """
    Create an item with all the information:
    
    - **name**: each item must have a name
    - **description**: a long description
    - **price**: required
    - **tax**: if the item doesn't have tax, you can omit this
    """
    return item

# Access documentation at:
# - Swagger UI: http://localhost:8000/docs
# - ReDoc: http://localhost:8000/redoc
# - OpenAPI JSON: http://localhost:8000/openapi.json</div>

        <div class="doc-access">
            <h4>📚 Documentation Access Points</h4>
            <ul>
                <li><strong>Swagger UI</strong>: <code>http://localhost:8000/docs</code></li>
                <li><strong>ReDoc</strong>: <code>http://localhost:8000/redoc</code></li>
                <li><strong>OpenAPI JSON</strong>: <code>http://localhost:8000/openapi.json</code></li>
            </ul>
        </div>

        <h2 id="pydantic">What is Pydantic? How is it used in FastAPI?</h2>
        
        <p><strong>Pydantic</strong> is a data validation library that uses Python type hints to validate, serialize, and deserialize data.</p>

        <div class="code-block python" data-lang="python">from pydantic import BaseModel, EmailStr, validator, Field
from typing import Optional, List
from datetime import datetime

class Address(BaseModel):
    street: str
    city: str
    country: str

class User(BaseModel):
    id: Optional[int] = None
    name: str = Field(..., min_length=1, max_length=100)
    email: EmailStr
    age: int = Field(..., gt=0, le=150)
    is_active: bool = True
    addresses: List[Address] = []
    created_at: datetime = Field(default_factory=datetime.now)

    @validator('name')
    def name_must_contain_space(cls, v):
        if ' ' not in v:
            raise ValueError('Name must contain a space')
        return v.title()

    @validator('age')
    def validate_age(cls, v):
        if v < 18:
            raise ValueError('Must be at least 18 years old')
        return v

    class Config:
        # Enable ORM mode for SQLAlchemy integration
        from_attributes = True
        # Example values for documentation
        json_schema_extra = {
            "example": {
                "name": "John Doe",
                "email": "john@example.com",
                "age": 25
            }
        }

# Using in FastAPI
@app.post("/users/", response_model=User)
async def create_user(user: User):
    # Automatic validation and serialization
    return user</div>

        <div class="footer">
            <p>🚀 <strong>FastAPI Basics Guide</strong> - Your comprehensive introduction to modern Python API development</p>
            <p>Built with ❤️ for developers who love clean, fast, and maintainable code</p>
        </div>
    </div>

    <button class="scroll-to-top" onclick="scrollToTop()">↑</button>

    <script>
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Scroll to top functionality
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // Show/hide scroll to top button
        window.addEventListener('scroll', function() {
            const scrollButton = document.querySelector('.scroll-to-top');
            if (window.pageYOffset > 300) {
                scrollButton.style.opacity = '1';
                scrollButton.style.visibility = 'visible';
            } else {
                scrollButton.style.opacity = '0';
                scrollButton.style.visibility = 'hidden';
            }
        });

        // Add copy functionality to code blocks
        document.addEventListener('DOMContentLoaded', function() {
            const codeBlocks = document.querySelectorAll('.code-block');
            
            codeBlocks.forEach(block => {
                // Create copy button
                const copyButton = document.createElement('button');
                copyButton.textContent = 'Copy';
                copyButton.className = 'copy-button';
                
                block.style.position = 'relative';
                block.appendChild(copyButton);
                
                // Add hover effects
                block.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-2px)';
                    this.style.boxShadow = '0 8px 25px rgba(0, 0, 0, 0.15)';
                });
                
                block.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0)';
                    this.style.boxShadow = 'none';
                });
                
                // Copy functionality
                copyButton.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const text = block.textContent.replace('Copy', '').trim();
                    navigator.clipboard.writeText(text).then(() => {
                        copyButton.textContent = 'Copied!';
                        copyButton.style.background = '#28a745';
                        setTimeout(() => {
                            copyButton.textContent = 'Copy';
                            copyButton.style.background = '#007acc';
                        }, 2000);
                    }).catch(() => {
                        copyButton.textContent = 'Failed';
                        setTimeout(() => {                            copyButton.textContent = 'Copy';
                        }, 2000);
                    });
                });
            });
        });

        // Sidebar functionality
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('active');
        }

        function toggleSection(element) {
            const section = element.parentElement;
            const isActive = section.classList.contains('active');
            
            // Close all sections
            document.querySelectorAll('.sidebar-section').forEach(sec => {
                sec.classList.remove('active');
                const arrow = sec.querySelector('.sidebar-section-title span');
                if (arrow) arrow.textContent = '▶';
            });
            
            // Open clicked section if it wasn't active
            if (!isActive) {
                section.classList.add('active');
                const arrow = element.querySelector('span');
                if (arrow) arrow.textContent = '▼';
            }
        }        // Close sidebar when clicking outside on mobile
        document.addEventListener('click', function(event) {
            const sidebar = document.getElementById('sidebar');
            const sidebarToggle = document.querySelector('.sidebar-toggle');
            
            if (window.innerWidth <= 768 && 
                !sidebar.contains(event.target) && 
                !sidebarToggle.contains(event.target)) {
                sidebar.classList.remove('active');
            }
        });

        // Smooth scrolling for navigation links
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = link.getAttribute('href').substring(1);
                const targetElement = document.getElementById(targetId);
                
                if (targetElement) {
                    targetElement.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
                
                // Update active link
                document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                link.classList.add('active');
            });
        });

        // Update active navigation on scroll
        window.addEventListener('scroll', () => {
            const sections = document.querySelectorAll('[id]');
            const navLinks = document.querySelectorAll('.nav-link');
            
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (window.pageYOffset >= sectionTop - 200) {
                    current = section.getAttribute('id');
                }
            });
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href').substring(1) === current) {
                    link.classList.add('active');
                }
            });
        });
    </script>
    </div> <!-- End main-content -->
</body>
</html>
