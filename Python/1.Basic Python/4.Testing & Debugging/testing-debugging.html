<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Testing & Debugging - Complete Guide</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-padding-top: 150px;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #e8e8e8;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            margin: 0;
            display: flex;
        }

        .sidebar {
            width: 280px;
            background: #1e1e1e;
            color: white;
            height: 100vh;
            position: fixed;
            left: 0;
            top: 0;
            overflow-y: auto;
            z-index: 1000;
            transition: transform 0.3s ease;
            border-right: 1px solid #333;
        }

        .sidebar-header {
            padding: 20px;
            background: #2d2d2d;
            border-bottom: 1px solid #444;
        }

        .sidebar-header h2 {
            margin: 0;
            font-size: 1.3em;
            color: #f0f0f0;
            border: none;
            padding: 0;
        }

        .sidebar-nav {
            padding: 0;
        }

        .sidebar-section {
            border-bottom: 1px solid #444;
        }

        .sidebar-section-title {
            background: #2d2d2d;
            color: #f0f0f0;
            padding: 15px 20px;
            margin: 0;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            border: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .sidebar-section-title:hover {
            background: #3a3a3a;
        }

        .sidebar-links {
            background: #1e1e1e;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .sidebar-section.active .sidebar-links {
            max-height: 500px;
        }

        .sidebar-links a {
            display: block;
            color: #b8b8b8;
            text-decoration: none;
            padding: 12px 25px;
            border-bottom: 1px solid #444;
            transition: background 0.2s ease;
        }

        .sidebar-links a:hover {
            background: #3a3a3a;
            color: #f0f0f0;
        }

        .sidebar-links a.current {
            background: #27ae60;
            color: white;
            font-weight: 600;
        }

        .sidebar-toggle {
            display: none;
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1001;
            background: #3498db;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
        }

        .main-content {
            margin-left: 280px;
            flex: 1;
            min-height: 100vh;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background: rgba(30, 30, 30, 0.95);
            border: 1px solid #444;
            margin-top: 20px;
            margin-bottom: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
            }

            .sidebar.active {
                transform: translateX(0);
            }

            .sidebar-toggle {
                display: block;
            }

            .main-content {
                margin-left: 0;
            }
        }

        h1 {
            color: #e8e8e8;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            background: linear-gradient(45deg, #3498db, #e74c3c);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        h2 {
            color: #27ae60;
            margin-top: 40px;
            margin-bottom: 20px;
            font-size: 1.8em;
            border-left: 5px solid #27ae60;
            padding-left: 15px;
            position: relative;
        }

        h2::before {
            content: "‚úÖ";
            position: absolute;
            left: -30px;
            top: 0;
            font-size: 0.8em;
        }

        h3 {
            color: #74b9ff;
            margin-top: 25px;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        h4 {
            color: #ddd;
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        p {
            color: #e0e0e0;
            line-height: 1.6;
            margin-bottom: 15px;
            text-align: justify;
        }

        .intro {
            background: linear-gradient(135deg, #3a4a5c, #2c3e50);
            color: white;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
            text-align: center;
            font-size: 1.1em;
            border: 1px solid #444;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: #2a2a2a;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        th {
            background: linear-gradient(135deg, #3a4a5c, #2c3e50);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }

        td {
            color: #e0e0e0;
            padding: 12px 15px;
            border-bottom: 1px solid #444;
        }

        tr:nth-child(even) {
            background: #333;
        }

        tr:hover {
            background: #3a4a5c;
            transition: background 0.3s ease;
        }

        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.4;
            position: relative;
            border-left: 4px solid #007acc;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .code-block::before {
            content: attr(data-lang);
            position: absolute;
            top: 5px;
            right: 10px;
            color: #888;
            font-size: 0.8em;
            text-transform: uppercase;
            background: #333;
            padding: 2px 6px;
            border-radius: 3px;
        }

        .code-block.python { border-left-color: #3776ab; }
        .code-block.bash { border-left-color: #4eaa25; }
        .code-block.json { border-left-color: #f39c12; }

        .highlight-box {
            background: linear-gradient(135deg, #3a2d1f, #4a3a28);
            border: 2px solid #e74c3c;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            position: relative;
            color: #e0e0e0;
        }

        .highlight-box::before {
            content: "üí°";
            position: absolute;
            top: -10px;
            left: 20px;
            background: #e74c3c;
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.9em;
        }

        .theory-box {
            background: linear-gradient(135deg, #2d3f2d, #3a4a3a);
            border: 2px solid #27ae60;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            position: relative;
            color: #e0e0e0;
        }

        .theory-box::before {
            content: "üìñ";
            position: absolute;
            top: -10px;
            left: 20px;
            background: #27ae60;
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.9em;
        }

        .testing-box {
            background: linear-gradient(135deg, #3d3a2f, #4a3a2d);
            border: 2px solid #ff9800;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            position: relative;
            color: #e0e0e0;
        }

        .testing-box::before {
            content: "üß™";
            position: absolute;
            top: -10px;
            left: 20px;
            background: #ff9800;
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.9em;
        }

        .debug-box {
            background: linear-gradient(135deg, #3d2f2f, #4a3a3a);
            border: 2px solid #f44336;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            position: relative;
            color: #e0e0e0;
        }

        .debug-box::before {
            content: "üêõ";
            position: absolute;
            top: -10px;
            left: 20px;
            background: #f44336;
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.9em;
        }

        .pitfall-box {
            background: linear-gradient(135deg, #3d2f3a, #4a3a45);
            border: 2px solid #e91e63;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            position: relative;
            color: #e0e0e0;
        }

        .pitfall-box::before {
            content: "‚ö†Ô∏è";
            position: absolute;
            top: -10px;
            left: 20px;
            background: #e91e63;
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.9em;
        }

        .testing-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .testing-card {
            background: linear-gradient(135deg, #3a4a5c, #2c3e50);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            transform: translateY(0);
            transition: transform 0.3s ease;
            border: 1px solid #444;
        }

        .testing-card:hover {
            transform: translateY(-5px);
        }

        .testing-card h4 {
            margin-bottom: 10px;
            font-size: 1.2em;
            color: white;
        }

        .nav {
            background: rgba(30, 30, 30, 0.95);
            padding: 0.8rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            position: sticky;
            top: 20px;
            z-index: 100;
            border: 1px solid #444;
        }

        .nav ul {
            list-style: none;
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            grid-template-rows: repeat(2, 1fr);
            gap: 0.4rem;
            row-gap: 0.2rem;
            margin: 0;
            padding: 0;
            max-width: 1200px;
            margin: 0 auto;
        }

        .nav a {
            color: #74b9ff;
            text-decoration: none;
            padding: 0.4rem 0.6rem;
            border-radius: 25px;
            transition: all 0.3s ease;
            font-weight: 500;
            text-align: center;
            display: block;
            font-size: 0.9rem;
        }

        .nav a:hover, .nav a.active {
            background: linear-gradient(45deg, #3a4a5c, #2c3e50);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(58, 74, 92, 0.4);
        }

        ul, ol {
            color: #e0e0e0;
            padding-left: 20px;
            margin-bottom: 15px;
        }

        li {
            margin-bottom: 5px;
        }

        strong {
            color: #74b9ff;
            font-weight: 600;
        }

        code {
            background: #2d2d2d;
            color: #e74c3c;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
        }

        @media (max-width: 768px) {
            .nav ul {
                grid-template-columns: 1fr;
            }
            
            .container {
                margin: 10px;
                padding: 15px;
                border-radius: 10px;
            }

            h1 {
                font-size: 2em;
            }

            table {
                font-size: 0.9em;
            }

            .code-block {
                font-size: 0.9em;
                padding: 15px;
            }

            .testing-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <button class="sidebar-toggle" onclick="toggleSidebar()">‚ò∞</button>
    
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h2><a href="../../Python.html" style="color: #ecf0f1; text-decoration: none;">üêç Python Guides</a></h2>
        </div>
        <nav class="sidebar-nav">
            <div class="sidebar-section active">
                <div class="sidebar-section-title" onclick="toggleSection(this)">
                    üêç Basic Python <span>‚ñº</span>
                </div>
                <div class="sidebar-links">
                    <a href="../basic-python-guide.html">Python Fundamentals</a>
                    <a href="../1.Python Concepts/python-concepts.html">Core Concepts</a>
                    <a href="../2.Data Structures/python-data-structures.html">Data Structures</a>
                    <a href="../3.Algorithms & Problem Solving/algorithms-problem-solving.html">Algorithms & Problem Solving</a>
                    <a href="../4.Testing & Debugging/testing-debugging.html" class="current">Testing & Debugging</a>
                </div>
            </div>
            <div class="sidebar-section">
                <div class="sidebar-section-title" onclick="toggleSection(this)">
                    ‚ö° Async Programming <span>‚ñ∂</span>
                </div>
                <div class="sidebar-links">
                    <a href="../../2.Async Programming/async-programming-guide.html">Asyncio & Concurrency</a>
                </div>
            </div>
            <div class="sidebar-section">
                <div class="sidebar-section-title" onclick="toggleSection(this)">
                    üöÄ FastAPI <span>‚ñ∂</span>
                </div>
                <div class="sidebar-links">
                    <a href="../../3.FastAPI/fastapi-guide.html">FastAPI Overview</a>
                    <a href="../../3.FastAPI/1.Basic/fastapi-basics-complete.html">FastAPI Fundamentals</a>
                    <a href="../../3.FastAPI/2.API Development/api-development-guide.html">API Development</a>
                    <a href="../../3.FastAPI/3.Security/security-guide.html">Security & Authentication</a>
                    <a href="../../3.FastAPI/4.Testing/testing-guide.html">Testing Strategies</a>
                    <a href="../../3.FastAPI/5.Advanced Topics/advanced-topics-guide.html">Advanced Topics</a>
                    <a href="../../3.FastAPI/6.Miscellaneous/miscellaneous-guide.html">Tips & Best Practices</a>
                </div>
            </div>
            <div class="sidebar-section">
                <div class="sidebar-section-title" onclick="toggleSection(this)">
                    ü¶ú LangChain <span>‚ñ∂</span>
                </div>
                <div class="sidebar-links">
                    <a href="../../4.LangChain/langchain-documentation.html">LangChain Framework</a>
                </div>
            </div>
            <div class="sidebar-section">
                <div class="sidebar-section-title" onclick="toggleSection(this)">
                    üìä LangGraph <span>‚ñ∂</span>
                </div>
                <div class="sidebar-links">
                    <a href="../../5.LangGraph/langgraph-guide.html">Graph-based AI</a>
                </div>
            </div>
            <div class="sidebar-section">
                <div class="sidebar-section-title" onclick="toggleSection(this)">
                    ü§ñ Agentic AI <span>‚ñ∂</span>
                </div>
                <div class="sidebar-links">
                    <a href="../../7.Agentic AI/agentic-ai-guide.html">AI Agents Guide</a>
                </div>
            </div>
        </nav>
    </div>

    <div class="main-content">
        <div class="container">
            <h1>üß™ Testing & Debugging - Complete Guide</h1>
            
            <div class="intro">
                <strong>Testing & Debugging</strong> are crucial skills for any Python developer. This comprehensive guide covers strategies for writing reliable, maintainable code through effective testing practices and systematic debugging techniques.
            </div>

            <nav class="nav">
                <ul>
                    <li><a href="#introduction" class="nav-link">Introduction</a></li>
                    <li><a href="#testing-fundamentals" class="nav-link">Testing Fundamentals</a></li>
                    <li><a href="#testing-frameworks" class="nav-link">Testing Frameworks</a></li>
                    <li><a href="#debugging" class="nav-link">Debugging Techniques</a></li>
                    <li><a href="#code-quality" class="nav-link">Code Quality</a></li>
                    <li><a href="#performance" class="nav-link">Performance Testing</a></li>
                    <li><a href="#advanced" class="nav-link">Advanced Concepts</a></li>
                    <li><a href="#real-world" class="nav-link">Real-world Examples</a></li>
                    <li><a href="#pitfalls" class="nav-link">Common Pitfalls</a></li>
                </ul>
            </nav>

            <h2 id="introduction">Introduction</h2>
            
            <div class="theory-box">
                <h3>Why Testing and Debugging Matter</h3>
                <ul>
                    <li><strong>Reliability:</strong> Ensure code works as expected under various conditions</li>
                    <li><strong>Maintainability:</strong> Catch regressions when making changes</li>
                    <li><strong>Documentation:</strong> Tests serve as living documentation of expected behavior</li>
                    <li><strong>Confidence:</strong> Deploy with assurance that code will work in production</li>
                    <li><strong>Debugging:</strong> Systematic approach to finding and fixing issues</li>
                </ul>
            </div>

            <h2 id="testing-fundamentals">Testing Fundamentals</h2>
            
            <div class="testing-grid">
                <div class="testing-card">
                    <h4>üéØ Unit Testing</h4>
                    <p>Testing individual components in isolation</p>
                </div>
                <div class="testing-card">
                    <h4>üîó Integration Testing</h4>
                    <p>Testing component interactions</p>
                </div>
                <div class="testing-card">
                    <h4>‚öôÔ∏è Functional Testing</h4>
                    <p>Testing complete workflows</p>
                </div>
            </div>

            <h3>Unit Testing</h3>
            <div class="testing-box">
                <h4>Unit Testing Principles</h4>
                <p>Unit tests focus on testing individual components in isolation. They should be fast, independent, and test a single piece of functionality.</p>
            </div>

            <div class="code-block python" data-lang="python">import unittest

class Calculator:
    def add(self, a, b):
        return a + b
    
    def divide(self, a, b):
        if b == 0:
            raise ValueError("Cannot divide by zero")
        return a / b

class TestCalculator(unittest.TestCase):
    def setUp(self):
        self.calc = Calculator()
    
    def test_add(self):
        self.assertEqual(self.calc.add(2, 3), 5)
        self.assertEqual(self.calc.add(-1, 1), 0)
    
    def test_divide(self):
        self.assertEqual(self.calc.divide(6, 2), 3)
        with self.assertRaises(ValueError):
            self.calc.divide(5, 0)

if __name__ == '__main__':
    unittest.main()</div>

            <h3>Integration Testing</h3>
            <div class="code-block python" data-lang="python">import unittest
from unittest.mock import patch, MagicMock

class DatabaseService:
    def get_user(self, user_id):
        # Simulate database call
        pass

class UserService:
    def __init__(self, db_service):
        self.db = db_service
    
    def get_user_profile(self, user_id):
        user = self.db.get_user(user_id)
        if user:
            return f"Profile for {user['name']}"
        return "User not found"

class TestUserService(unittest.TestCase):
    @patch('__main__.DatabaseService')
    def test_get_user_profile_success(self, mock_db):
        # Setup mock
        mock_db.get_user.return_value = {'name': 'John Doe'}
        
        service = UserService(mock_db)
        result = service.get_user_profile(1)
        
        self.assertEqual(result, "Profile for John Doe")
        mock_db.get_user.assert_called_once_with(1)</div>

            <h2 id="testing-frameworks">Testing Frameworks</h2>
            
            <h3>unittest (Built-in)</h3>
            <div class="code-block python" data-lang="python">import unittest
from unittest.mock import Mock, patch

class TestExample(unittest.TestCase):
    def setUp(self):
        """Run before each test method"""
        self.data = [1, 2, 3, 4, 5]
    
    def tearDown(self):
        """Run after each test method"""
        self.data = None
    
    def test_list_length(self):
        self.assertEqual(len(self.data), 5)
    
    def test_list_contains(self):
        self.assertIn(3, self.data)
        self.assertNotIn(6, self.data)
    
    def test_exception_handling(self):
        with self.assertRaises(ZeroDivisionError):
            1 / 0
    
    @patch('random.randint')
    def test_with_mock(self, mock_randint):
        mock_randint.return_value = 42
        import random
        self.assertEqual(random.randint(1, 100), 42)</div>

            <h3>pytest (Popular Third-party)</h3>
            <div class="code-block python" data-lang="python">import pytest
from unittest.mock import Mock

# Simple test
def test_addition():
    assert 1 + 1 == 2

# Parametrized test
@pytest.mark.parametrize("input,expected", [
    (2, 4),
    (3, 9),
    (4, 16),
    (5, 25)
])
def test_square(input, expected):
    assert input ** 2 == expected

# Fixture usage
@pytest.fixture
def sample_data():
    return [1, 2, 3, 4, 5]

def test_with_fixture(sample_data):
    assert len(sample_data) == 5
    assert sum(sample_data) == 15

# Exception testing
def test_division_by_zero():
    with pytest.raises(ZeroDivisionError):
        1 / 0

# Mocking
def test_external_api_call(mocker):
    mock_response = Mock()
    mock_response.json.return_value = {"status": "success"}
    mocker.patch('requests.get', return_value=mock_response)
    
    import requests
    response = requests.get("http://example.com")
    assert response.json()["status"] == "success"</div>

            <h3>doctest (Documentation Testing)</h3>
            <div class="code-block python" data-lang="python">def factorial(n):
    """
    Calculate factorial of n.
    
    >>> factorial(5)
    120
    >>> factorial(0)
    1
    >>> factorial(1)
    1
    >>> factorial(-1)
    Traceback (most recent call last):
        ...
    ValueError: Factorial not defined for negative numbers
    """
    if n < 0:
        raise ValueError("Factorial not defined for negative numbers")
    if n <= 1:
        return 1
    return n * factorial(n - 1)

if __name__ == "__main__":
    import doctest
    doctest.testmod()</div>

            <h2 id="debugging">Debugging Techniques</h2>
            
            <h3>Python Debugger (pdb)</h3>
            <div class="debug-box">
                <h4>PDB Commands</h4>
                <ul>
                    <li><strong>n (next line):</strong> Execute next line</li>
                    <li><strong>s (step into):</strong> Step into function calls</li>
                    <li><strong>c (continue):</strong> Continue execution</li>
                    <li><strong>l (list code):</strong> Show current code</li>
                    <li><strong>p &lt;variable&gt;:</strong> Print variable value</li>
                    <li><strong>pp &lt;variable&gt;:</strong> Pretty print variable</li>
                    <li><strong>w (where):</strong> Show stack trace</li>
                    <li><strong>u/d:</strong> Move up/down stack frame</li>
                </ul>
            </div>

            <div class="code-block python" data-lang="python">import pdb

def complex_function(data):
    result = []
    for item in data:
        # Set breakpoint
        pdb.set_trace()
        
        processed = item * 2
        if processed > 10:
            result.append(processed)
    
    return result

# Usage
data = [1, 2, 3, 4, 5, 6, 7, 8]
result = complex_function(data)</div>

            <h3>Logging for Debugging</h3>
            <div class="code-block python" data-lang="python">import logging

# Configure logging
logging.basicConfig(
    level=logging.DEBUG,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    handlers=[
        logging.FileHandler('debug.log'),
        logging.StreamHandler()
    ]
)

logger = logging.getLogger(__name__)

def process_user_data(users):
    logger.info(f"Processing {len(users)} users")
    
    for i, user in enumerate(users):
        logger.debug(f"Processing user {i}: {user['name']}")
        
        try:
            result = validate_user(user)
            logger.info(f"User {user['name']} validated successfully")
        except ValueError as e:
            logger.error(f"Validation failed for {user['name']}: {e}")
            continue
        except Exception as e:
            logger.critical(f"Unexpected error processing {user['name']}: {e}")
            raise
    
    logger.info("User processing completed")

def validate_user(user):
    required_fields = ['name', 'email', 'age']
    for field in required_fields:
        if field not in user:
            raise ValueError(f"Missing required field: {field}")
    
    if user['age'] < 0:
        raise ValueError("Age cannot be negative")
    
    return True</div>

            <h3>IDE Debugging Configuration</h3>
            <div class="code-block json" data-lang="json">{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Python: Current File",
            "type": "python",
            "request": "launch",
            "program": "${file}",
            "console": "integratedTerminal",
            "justMyCode": true
        },
        {
            "name": "Python: Debug Tests",
            "type": "python",
            "request": "launch",
            "module": "pytest",
            "args": ["-v"],
            "console": "integratedTerminal",
            "justMyCode": false
        }
    ]
}</div>

            <h2 id="code-quality">Code Quality & Best Practices</h2>
            
            <h3>Test-Driven Development (TDD)</h3>
            <div class="testing-box">
                <h4>TDD Cycle</h4>
                <ol>
                    <li><strong>Red:</strong> Write failing test</li>
                    <li><strong>Green:</strong> Write minimal code to pass</li>
                    <li><strong>Refactor:</strong> Improve code while keeping tests passing</li>
                </ol>
            </div>

            <div class="code-block python" data-lang="python"># 1. Write failing test
import unittest

class TestStringProcessor(unittest.TestCase):
    def test_reverse_string(self):
        processor = StringProcessor()
        result = processor.reverse("hello")
        self.assertEqual(result, "olleh")

# 2. Write minimal code to pass
class StringProcessor:
    def reverse(self, s):
        return s[::-1]

# 3. Refactor and improve
class StringProcessor:
    def reverse(self, s):
        if not isinstance(s, str):
            raise TypeError("Input must be a string")
        return s[::-1]
    
    def is_palindrome(self, s):
        cleaned = s.lower().replace(' ', '')
        return cleaned == cleaned[::-1]</div>

            <h3>Assertion Techniques</h3>
            <div class="code-block python" data-lang="python">import unittest

class TestAssertions(unittest.TestCase):
    def test_basic_assertions(self):
        # Equality
        self.assertEqual(2 + 2, 4)
        self.assertNotEqual(2 + 2, 5)
        
        # Truth values
        self.assertTrue(True)
        self.assertFalse(False)
        
        # None checks
        self.assertIsNone(None)
        self.assertIsNotNone("hello")
        
        # Container checks
        self.assertIn(1, [1, 2, 3])
        self.assertNotIn(4, [1, 2, 3])
        
        # Type checks
        self.assertIsInstance(42, int)
        self.assertNotIsInstance("hello", int)
        
        # Numeric comparisons
        self.assertGreater(5, 3)
        self.assertLess(3, 5)
        self.assertGreaterEqual(5, 5)
        self.assertLessEqual(3, 5)
        
        # Float comparisons
        self.assertAlmostEqual(0.1 + 0.2, 0.3, places=7)
        
        # Regex matching
        self.assertRegex("hello world", r"hello.*world")
        
        # Exception testing
        with self.assertRaises(ValueError):
            int("not a number")
            
        with self.assertRaisesRegex(ValueError, "invalid literal"):
            int("not a number")</div>

            <h2 id="performance">Performance Testing</h2>
            
            <div class="code-block python" data-lang="python">import time
import cProfile
import timeit
from functools import wraps

# Timing decorator
def timing_decorator(func):
    @wraps(func)
    def wrapper(*args, **kwargs):
        start = time.time()
        result = func(*args, **kwargs)
        end = time.time()
        print(f"{func.__name__} took {end - start:.4f} seconds")
        return result
    return wrapper

@timing_decorator
def slow_function():
    time.sleep(1)
    return "done"

# Using timeit
def test_list_creation():
    # Test different approaches
    time1 = timeit.timeit("list(range(100))", number=10000)
    time2 = timeit.timeit("[i for i in range(100)]", number=10000)
    
    print(f"list(range(100)): {time1:.6f}")
    print(f"[i for i in range(100)]: {time2:.6f}")

# Memory profiling
import tracemalloc

def profile_memory():
    tracemalloc.start()
    
    # Code to profile
    data = [i for i in range(1000000)]
    
    current, peak = tracemalloc.get_traced_memory()
    print(f"Current memory usage: {current / 1024 / 1024:.2f} MB")
    print(f"Peak memory usage: {peak / 1024 / 1024:.2f} MB")
    
    tracemalloc.stop()</div>

            <h2 id="advanced">Advanced Testing Concepts</h2>
            
            <h3>Mocking and Patching</h3>
            <div class="code-block python" data-lang="python">from unittest.mock import Mock, patch, MagicMock
import unittest

class ExternalService:
    def get_data(self):
        # Simulate external API call
        import requests
        response = requests.get("https://api.example.com/data")
        return response.json()

class DataProcessor:
    def __init__(self, service):
        self.service = service
    
    def process(self):
        data = self.service.get_data()
        return [item['value'] * 2 for item in data]

class TestDataProcessor(unittest.TestCase):
    def test_process_with_mock(self):
        # Create mock service
        mock_service = Mock()
        mock_service.get_data.return_value = [
            {'value': 1},
            {'value': 2},
            {'value': 3}
        ]
        
        processor = DataProcessor(mock_service)
        result = processor.process()
        
        self.assertEqual(result, [2, 4, 6])
        mock_service.get_data.assert_called_once()
    
    @patch('requests.get')
    def test_external_service(self, mock_get):
        # Mock external API call
        mock_response = Mock()
        mock_response.json.return_value = [{'value': 5}]
        mock_get.return_value = mock_response
        
        service = ExternalService()
        result = service.get_data()
        
        self.assertEqual(result, [{'value': 5}])
        mock_get.assert_called_once_with("https://api.example.com/data")</div>

            <h3>Testing Async Code</h3>
            <div class="code-block python" data-lang="python">import asyncio
import unittest
from unittest.mock import AsyncMock, patch

class AsyncService:
    async def fetch_data(self, url):
        # Simulate async HTTP request
        await asyncio.sleep(0.1)
        return {"data": "test"}
    
    async def process_urls(self, urls):
        tasks = [self.fetch_data(url) for url in urls]
        results = await asyncio.gather(*tasks)
        return results

class TestAsyncService(unittest.IsolatedAsyncioTestCase):
    async def test_fetch_data(self):
        service = AsyncService()
        result = await service.fetch_data("http://example.com")
        self.assertEqual(result, {"data": "test"})
    
    @patch.object(AsyncService, 'fetch_data')
    async def test_process_urls_with_mock(self, mock_fetch):
        mock_fetch.return_value = {"data": "mocked"}
        
        service = AsyncService()
        urls = ["http://example.com", "http://test.com"]
        results = await service.process_urls(urls)
        
        self.assertEqual(len(results), 2)
        self.assertEqual(results[0], {"data": "mocked"})
        self.assertEqual(mock_fetch.call_count, 2)</div>

            <h2 id="real-world">Real-world Examples</h2>
            
            <h3>Testing a Web Application</h3>
            <div class="code-block python" data-lang="python">import unittest
from unittest.mock import patch, Mock
from flask import Flask, jsonify, request

app = Flask(__name__)

@app.route('/users/<int:user_id>')
def get_user(user_id):
    # Simulate database lookup
    user = db.get_user(user_id)
    if user:
        return jsonify(user)
    return jsonify({"error": "User not found"}), 404

@app.route('/users', methods=['POST'])
def create_user():
    data = request.get_json()
    if not data or 'name' not in data:
        return jsonify({"error": "Name is required"}), 400
    
    user = db.create_user(data)
    return jsonify(user), 201

class TestWebApp(unittest.TestCase):
    def setUp(self):
        self.app = app.test_client()
        self.app.testing = True
    
    @patch('__main__.db')
    def test_get_user_success(self, mock_db):
        mock_db.get_user.return_value = {"id": 1, "name": "John"}
        
        response = self.app.get('/users/1')
        
        self.assertEqual(response.status_code, 200)
        self.assertEqual(response.get_json(), {"id": 1, "name": "John"})
        mock_db.get_user.assert_called_once_with(1)
    
    @patch('__main__.db')
    def test_get_user_not_found(self, mock_db):
        mock_db.get_user.return_value = None
        
        response = self.app.get('/users/999')
        
        self.assertEqual(response.status_code, 404)
        self.assertEqual(response.get_json(), {"error": "User not found"})</div>

            <h2 id="pitfalls">Common Pitfalls</h2>
            
            <h3>Testing Pitfalls</h3>
            <div class="pitfall-box">
                <h4>Testing Implementation Instead of Behavior</h4>
                <div class="code-block python" data-lang="python"># Bad: Testing internal implementation
def test_bad_example(self):
    obj = MyClass()
    obj.method()
    self.assertEqual(obj._internal_counter, 1)

# Good: Testing behavior
def test_good_example(self):
    obj = MyClass()
    result = obj.method()
    self.assertEqual(result, expected_value)</div>
            </div>

            <div class="pitfall-box">
                <h4>Over-mocking</h4>
                <div class="code-block python" data-lang="python"># Bad: Mocking everything
@patch('module.function1')
@patch('module.function2')
@patch('module.function3')
def test_over_mocked(self, mock1, mock2, mock3):
    # Test becomes meaningless
    pass

# Good: Mock only external dependencies
@patch('requests.get')
def test_well_mocked(self, mock_get):
    # Test actual logic, mock external calls
    pass</div>
            </div>

            <div class="pitfall-box">
                <h4>Test Dependencies</h4>
                <div class="code-block python" data-lang="python"># Bad: Tests that depend on each other
class BadTestClass(unittest.TestCase):
    def test_1_create_user(self):
        self.user_id = create_user()
    
    def test_2_update_user(self):
        update_user(self.user_id)  # Depends on test_1

# Good: Independent tests
class GoodTestClass(unittest.TestCase):
    def test_create_user(self):
        user_id = create_user()
        self.assertIsNotNone(user_id)
    
    def test_update_user(self):
        user_id = create_user()  # Create fresh data
        result = update_user(user_id)
        self.assertTrue(result)</div>
            </div>

            <h3>Debugging Pitfalls</h3>
            <div class="pitfall-box">
                <h4>Debugging in Production</h4>
                <div class="code-block python" data-lang="python"># Bad: Debug code in production
def production_function():
    print("Debug: entering function")  # Remove before deploy
    result = complex_calculation()
    import pdb; pdb.set_trace()  # Never leave in production
    return result

# Good: Use logging with appropriate levels
import logging
logger = logging.getLogger(__name__)

def production_function():
    logger.debug("Entering function")
    result = complex_calculation()
    logger.info(f"Calculation completed: {result}")
    return result</div>
            </div>

            <div class="highlight-box">
                <h4>Best Practices Summary</h4>
                <ul>
                    <li><strong>Write tests first</strong> (TDD approach)</li>
                    <li><strong>Keep tests simple and focused</strong> - one assertion per test when possible</li>
                    <li><strong>Use descriptive test names</strong> - explain what is being tested</li>
                    <li><strong>Mock external dependencies</strong> - databases, APIs, file systems</li>
                    <li><strong>Test edge cases</strong> - empty inputs, boundary conditions, error cases</li>
                    <li><strong>Use proper logging levels</strong> - DEBUG, INFO, WARNING, ERROR, CRITICAL</li>
                    <li><strong>Avoid debugging in production</strong> - use logging instead</li>
                    <li><strong>Write self-documenting code</strong> - reduce need for debugging</li>
                </ul>
            </div>

            <div class="theory-box">
                <h3>Testing Tools & Resources</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Tool</th>
                            <th>Purpose</th>
                            <th>When to Use</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>unittest</strong></td>
                            <td>Built-in testing framework</td>
                            <td>Simple projects, standard testing</td>
                        </tr>
                        <tr>
                            <td><strong>pytest</strong></td>
                            <td>Advanced testing framework</td>
                            <td>Complex projects, parametrized tests</td>
                        </tr>
                        <tr>
                            <td><strong>coverage.py</strong></td>
                            <td>Code coverage measurement</td>
                            <td>Ensuring test completeness</td>
                        </tr>
                        <tr>
                            <td><strong>hypothesis</strong></td>
                            <td>Property-based testing</td>
                            <td>Testing with generated data</td>
                        </tr>
                        <tr>
                            <td><strong>pdb</strong></td>
                            <td>Python debugger</td>
                            <td>Interactive debugging</td>
                        </tr>
                        <tr>
                            <td><strong>logging</strong></td>
                            <td>Application logging</td>
                            <td>Production debugging, monitoring</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="theory-box">
                <h3>Key Takeaways</h3>
                <ol>
                    <li><strong>Test early and often</strong> - Don't wait until the end to write tests</li>
                    <li><strong>Focus on behavior, not implementation</strong> - Test what the code does, not how</li>
                    <li><strong>Use appropriate testing levels</strong> - Unit, integration, and functional tests</li>
                    <li><strong>Mock external dependencies</strong> - Keep tests fast and reliable</li>
                    <li><strong>Debug systematically</strong> - Use proper tools and techniques</li>
                    <li><strong>Log strategically</strong> - Use appropriate levels and structured logging</li>
                    <li><strong>Automate testing</strong> - Run tests automatically in CI/CD pipelines</li>
                </ol>
            </div>
        </div>
    </div>

    <script>
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('active');
        }

        function toggleSection(element) {
            const section = element.parentElement;
            section.classList.toggle('active');
        }

        // Navigation functionality
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                
                const targetId = link.getAttribute('href').substring(1);
                const targetElement = document.getElementById(targetId);
                
                if (targetElement) {
                    const offsetTop = targetElement.offsetTop - 140;
                    window.scrollTo({
                        top: offsetTop,
                        behavior: 'smooth'
                    });
                }
                
                // Update active link
                document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                link.classList.add('active');
            });
        });

        // Update active navigation on scroll
        window.addEventListener('scroll', () => {
            const sections = document.querySelectorAll('[id]');
            const navLinks = document.querySelectorAll('.nav-link');
            
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 180;
                const sectionHeight = section.clientHeight;
                if (window.pageYOffset >= sectionTop) {
                    current = section.getAttribute('id');
                }
            });
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href').substring(1) === current) {
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>
